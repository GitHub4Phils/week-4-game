<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Game RPG</title>
	<style>
		body {
         /*background: url("assets/images/starwars.jpg");*/
			background-size: cover;
		
		}
		td {
			font: bold;
			color: crimson;
		}
		div {
			border: 10px;
			padding: 10px;
		}
	</style>
<!-- Bootstrap File -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- JQuery -->
  <script src="https://code.jquery.com/jquery.js"></script>
</head>

<body>
	

<div class="row">
	<div class="col">
	<h1>YOUR CHARACTER:</h1>

	<div width="100%" align="left" class="row" id="imgSelection"></div>
</div>
<div class="row">
	<div class="col">
		<h1>ENEMIES:</h1>
		<div class="row" id="oppSelection"></div>							
	</div>			
</div>
<div class="row">
	<div class="col">
		<h1>DEFENDER:</h1>
		<div class="row" id="defender"></div>							
	</div>			
</div>
<div class="row">
	<div class="col">	
		Your Score:<p id="yourscore"></p>
		Enemy Score:<p id="oppScore"></p>
		<button id="playsword" onclick="audio.play()">ATTACK</button>
		<!-- <button id="stopsword" onclick="audio.stop()">STOP</button> -->
	</div>
</div>

<script>

		var audio = new Audio("assets/sounds/lightsaber.mp3") ;
		var imgList=["darthsidious","darthmaul","darthvader","leia","obiwan"];
			var scoreList=[120,100,150,180,150];
			var html1="";
			var html2="";
			var html3="";
			var userChar="";
			var userPoints=0;
			var imgName="";
			var oppChar="";
			var selectedImg="";
			var opponentPoints=0;

		// let's get this started
		// javascript function that wraps everything
		$(document).ready(function() {
			// create my list of images to call on all function and add on elements
			

			// loop thru the array and listen to the clicks
			for (var i=0; i < imgList.length; i++ ){
				
				// add the button tags inside the imageSelected div
				imgName=imgList[i];

				//console.log("this is adding the div: "+imgList[i]);

				html1 = $("<div>");

				html2 = "<img src=\"assets/images/"+imgList[i]+".jpg\" width=150 height=150 onclick='selectChar("+imgList[i]+")'> </div>";

				$(html1).attr("id",imgList[i]);
				$(html1).addClass("imgName",imgList[i]);
				$("#imgSelection").append(html1);
				$("#imgSelection").append(html2);
				$("#imgSelection").append(html3);
				$("#imgSelection").append(scoreList[i]);
				}
			});
			
			function selectChar(name){
				selectedImg=name.id;
				console.log("selected char: "+name.id);
				//when the user clicked on character, we then get the selected char - selectedimg
				$("#imgSelection").html("<img width=150 height=150 src='assets/images/"+selectedImg+".jpg'>");
				
				// after selecting the user character choose the opponent
				for (var i=0; i < imgList.length; i++ ){
				
				// add the button tags inside the imageSelected div
				if (selectedImg!==imgList[i]){
					imgName=imgList[i];

					//console.log("this is adding the div: "+imgList[i]);

					html1 = $("<div>");

					html2 = "<img src=\"assets/images/"+imgList[i]+".jpg\" width=150 height=150 onclick='selectOpp("+imgList[i]+")'> </div>";
					$(html1).attr("id",imgList[i]);
					$(html1).addClass("imgName",imgList[i]);
					$("#oppSelection").append(html1);
					$("#oppSelection").append(html2);
					$("#oppSelection").append(html3);
					$("#oppSelection").append(scoreList[i]);
					}
				}

			}
			function selectOpp(name) {
				oppChar=name.id;
				console.log("opponent is:"+oppChar);

				// select opponent
				$("#defender").html("<img width=150 height=150 src='assets/images/"+oppChar+".jpg'>");
				
				// // after selecting the user character choose the opponent
				// for (var i=0; i < imgList.length; i++ ){
				
				// // add the button tags inside the imageSelected div
				// var imgName=imgList[i];

				// //console.log("this is adding the div: "+imgList[i]);

				// html1 = $("<div>");

				// html2 = "<img src=\"assets/images/"+imgList[i]+".jpg\" width=150 height=150 onclick='attack("+imgList[i]+")'> </div>";
				// $(html1).attr("id",imgList[i]);
				// $(html1).addClass("imgName",imgList[i]);
				// $("#oppSelection").append(html1);
				// $("#oppSelection").append(html2);
				// $("#oppSelection").append(html3);
				// $("#oppSelection").append(scoreList[i]);
				// }
			} 
			
			function attack(name){
				console.log("time to attack");

			}
		
		$("#playsword").on("click",function(){
			console.log("attack!");
			console.log(selectedImg+ " and "+oppChar);
			var x=imgList.indexOf(selectedImg);
			var y=imgList.indexOf(oppChar);
			console.log("your char points:"+scoreList[x])
			userPoints=scoreList[x];
			opponentPoints=scoreList[y];
			$("#yourscore").text(scoreList[x]);
			$("#oppScore").text(opponentPoints);

		});
			
		
	
	</script>

</body>
</html>
